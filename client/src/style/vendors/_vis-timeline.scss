/* stylelint-disable declaration-no-important, selector-no-qualifying-type */

$items-border-radius: 10px;

// - L'obligation d'utiliser des !important est due au fait que lors du build,
//   l'ordre final du CSS semble être inversé : le CSS de vis-timeline se
//   retrouve après celui-ci.
.vis-timeline {
    border: none !important;
    background-color: $calendar-main-background-color;

    .vis-panel {
        &.vis-bottom,
        &.vis-center,
        &.vis-left,
        &.vis-right,
        &.vis-top {
            border: none;
        }
    }

    .vis-time-axis.vis-foreground {
        background: rgba(#fff, 0.05);
        box-shadow: 0 0 5px rgba(#000, 0.25);
    }

    .vis-grid {
        &.vis-vertical {
            border-color: $calendar-cells-border-color !important;
        }

        &.vis-today {
            background-color: $calendar-current-date-background-color !important;
        }

        &.vis-sunday {
            background: rgba(#fff, 0.1);
        }
    }

    .vis-time-axis .vis-text {
        color: $text-nav-color;
        text-align: center;

        &.vis-major {
            margin-left: 0.5rem;
            font-weight: 800;
            text-transform: capitalize;
        }
    }

    .vis-current-time {
        max-height: calc(100% - 42px);
        margin-top: 42px;
        background-color: $calendar-time-cursor-color;
    }

    .vis-label {
        color: $text-base-color;

        .vis-inner {
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: max(100%, 55px);
            padding: 10px;
            word-break: break-all;
        }
    }
}

.vis-item {
    margin: 0;
    padding: 1.2rem 1.1rem;
    border: none !important;
    font-size: 1rem;

    &.vis-range {
        border-radius: $items-border-radius !important;
        background-color: $calendar-event-normal-color;
        color: $calendar-event-text-color;
        box-shadow: 1px 2px 3px rgba(#000, 0.5);

        &.vis-selected {
            background-color: lighten($calendar-event-normal-color, 10%);
        }
    }

    &.vis-background {
        padding: 0.5rem 0.8rem;
        background-color: rgba(31, 31, 31, 0.6);
        color: rgba(255, 255, 255, 0.5);
    }

    .vis-item-overflow {
        display: flex;
        align-items: center;
    }

    .vis-item-content {
        padding: 0 !important;
        white-space: pre-line;
    }

    &:not(.vis-readonly):not(.vis-background) {
        cursor: pointer;

        .vis-drag-left,
        .vis-drag-right {
            width: 32px !important;
            background: rgba(#000, 0.1);
        }

        .vis-drag-left {
            left: 0 !important;
            border-radius: $items-border-radius 0 0 $items-border-radius;
        }

        .vis-drag-right {
            right: 0 !important;
            border-radius: 0 $items-border-radius $items-border-radius 0;
        }
    }

    &.vis-readonly {
        .vis-drag-center {
            cursor: no-drop !important;
        }
    }

    .vis-delete {
        right: -32px;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 32px;
        height: 100%;
        border-radius: 3px;

        &::after {
            content: '\f1f8';
            color: $text-danger-color;
            // stylelint-disable-next-line font-family-no-missing-generic-family-keyword
            font-family: 'Font Awesome 5 Free';
            font-size: 1.7rem;
            font-weight: 900;
        }
    }
}

div.vis-tooltip {
    max-width: 50%;
    margin: 30px 0 0 15px;
    padding: $content-padding-small-horizontal $content-padding-small-vertical !important;
    border: none !important;
    border-radius: 3px;
    background-color: $bg-color-tooltip !important;
    color: $text-base-color !important;
    font-family: $text-base-font-family !important;
    white-space: pre-wrap !important;

    .fas,
    .far {
        width: 1.5rem;
        margin-bottom: 3px;
        text-align: center;
    }

    .fa-exclamation-triangle {
        color: $text-danger-color;
    }

    .fa-check {
        color: $text-success-color;
    }
}
